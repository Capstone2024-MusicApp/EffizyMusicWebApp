<div class="pagination">
    <button class="btn btn-outline-secondary"
            disabled="@IsPreviousDisabled"
            @onclick="PreviousPage">
        Previous
    </button>

    <span class="page-info">Page @CurrentPage of @TotalPages</span>

    <button class="btn btn-outline-secondary"
            disabled="@IsNextDisabled"
            @onclick="NextPage">
        Next
    </button>
</div>

@code {
    [Parameter] public int CurrentPage { get; set; }
    [Parameter] public int PageSize { get; set; }
    [Parameter] public int TotalItems { get; set; }
    [Parameter] public EventCallback<int> OnPageChanged { get; set; }

    private int TotalPages => (int)Math.Ceiling(TotalItems / (double)PageSize);
    private bool IsPreviousDisabled => CurrentPage == 1;
    private bool IsNextDisabled => CurrentPage == TotalPages;

    private async Task PreviousPage()
    {
        if (!IsPreviousDisabled)
        {
            CurrentPage--;
            await OnPageChanged.InvokeAsync(CurrentPage);
        }
    }

    private async Task NextPage()
    {
        if (!IsNextDisabled)
        {
            CurrentPage++;
            await OnPageChanged.InvokeAsync(CurrentPage);
        }

    }
}
